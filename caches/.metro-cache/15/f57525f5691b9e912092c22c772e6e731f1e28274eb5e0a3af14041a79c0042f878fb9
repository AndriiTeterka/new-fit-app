{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":15},"end":{"line":3,"column":31,"index":46}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"./NavigationBuilderContext.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":47},"end":{"line":4,"column":73,"index":120}}],"key":"vvb+tbs8cGp9hlTxgL5PZCjRz5E=","exportNames":["*"],"imports":1}},{"name":"./NavigationStateContext.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":5,"column":0,"index":121},"end":{"line":5,"column":69,"index":190}}],"key":"vPXNy6i2DuFIp7nHtHgSOvNmS+U=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopNamespace(e) {\n    if (e && e.__esModule) return e;\n    var n = {};\n    if (e) Object.keys(e).forEach(function (k) {\n      n[k] = e[k];\n    });\n    n.default = e;\n    return n;\n  }\n  exports.useOptionsGetters = useOptionsGetters;\n  var _react = require(_dependencyMap[0], \"react\");\n  var React = _interopNamespace(_react);\n  var _NavigationBuilderContextJs = require(_dependencyMap[1], \"./NavigationBuilderContext.js\");\n  var _NavigationStateContextJs = require(_dependencyMap[2], \"./NavigationStateContext.js\");\n  function useOptionsGetters(_ref) {\n    var key = _ref.key,\n      options = _ref.options,\n      navigation = _ref.navigation;\n    var optionsRef = React.useRef(options);\n    var optionsGettersFromChildRef = React.useRef({});\n    var _React$useContext = React.useContext(_NavigationBuilderContextJs.NavigationBuilderContext),\n      onOptionsChange = _React$useContext.onOptionsChange;\n    var _React$useContext2 = React.useContext(_NavigationStateContextJs.NavigationStateContext),\n      parentAddOptionsGetter = _React$useContext2.addOptionsGetter;\n    var optionsChangeListener = React.useCallback(() => {\n      var isFocused = navigation?.isFocused() ?? true;\n      var hasChildren = Object.keys(optionsGettersFromChildRef.current).length;\n      if (isFocused && !hasChildren) {\n        onOptionsChange(optionsRef.current ?? {});\n      }\n    }, [navigation, onOptionsChange]);\n    React.useEffect(() => {\n      optionsRef.current = options;\n      optionsChangeListener();\n      return navigation?.addListener('focus', optionsChangeListener);\n    }, [navigation, options, optionsChangeListener]);\n    var getOptionsFromListener = React.useCallback(() => {\n      for (var _key in optionsGettersFromChildRef.current) {\n        if (_key in optionsGettersFromChildRef.current) {\n          var result = optionsGettersFromChildRef.current[_key]?.();\n\n          // null means unfocused route\n          if (result !== null) {\n            return result;\n          }\n        }\n      }\n      return null;\n    }, []);\n    var getCurrentOptions = React.useCallback(() => {\n      var isFocused = navigation?.isFocused() ?? true;\n      if (!isFocused) {\n        return null;\n      }\n      var optionsFromListener = getOptionsFromListener();\n      if (optionsFromListener !== null) {\n        return optionsFromListener;\n      }\n      return optionsRef.current;\n    }, [navigation, getOptionsFromListener]);\n    React.useEffect(() => {\n      return parentAddOptionsGetter?.(key, getCurrentOptions);\n    }, [getCurrentOptions, parentAddOptionsGetter, key]);\n    var addOptionsGetter = React.useCallback((key, getter) => {\n      optionsGettersFromChildRef.current[key] = getter;\n      optionsChangeListener();\n      return () => {\n        // eslint-disable-next-line @typescript-eslint/no-dynamic-delete\n        delete optionsGettersFromChildRef.current[key];\n        optionsChangeListener();\n      };\n    }, [optionsChangeListener]);\n    return {\n      addOptionsGetter,\n      getCurrentOptions\n    };\n  }\n});","lineCount":84,"map":[[2,2,1,0],[2,14,1,12],[4,2,1,13,"Object"],[4,8,1,13],[4,9,1,13,"defineProperty"],[4,23,1,13],[4,24,1,13,"exports"],[4,31,1,13],[5,4,1,13,"value"],[5,9,1,13],[6,2,1,13],[7,2,1,13],[7,11,1,13,"_interopNamespace"],[7,29,1,13,"e"],[7,30,1,13],[8,4,1,13],[8,8,1,13,"e"],[8,9,1,13],[8,13,1,13,"e"],[8,14,1,13],[8,15,1,13,"__esModule"],[8,25,1,13],[8,34,1,13,"e"],[8,35,1,13],[9,4,1,13],[9,8,1,13,"n"],[9,9,1,13],[10,4,1,13],[10,8,1,13,"e"],[10,9,1,13],[10,11,1,13,"Object"],[10,17,1,13],[10,18,1,13,"keys"],[10,22,1,13],[10,23,1,13,"e"],[10,24,1,13],[10,26,1,13,"forEach"],[10,33,1,13],[10,44,1,13,"k"],[10,45,1,13],[11,6,1,13,"n"],[11,7,1,13],[11,8,1,13,"k"],[11,9,1,13],[11,13,1,13,"e"],[11,14,1,13],[11,15,1,13,"k"],[11,16,1,13],[12,4,1,13],[13,4,1,13,"n"],[13,5,1,13],[13,6,1,13,"default"],[13,13,1,13],[13,16,1,13,"e"],[13,17,1,13],[14,4,1,13],[14,11,1,13,"n"],[14,12,1,13],[15,2,1,13],[16,2,6,0,"exports"],[16,9,6,0],[16,10,6,0,"useOptionsGetters"],[16,27,6,0],[16,30,6,0,"useOptionsGetters"],[16,47,6,0],[17,2,3,0],[17,6,3,0,"_react"],[17,12,3,0],[17,15,3,0,"require"],[17,22,3,0],[17,23,3,0,"_dependencyMap"],[17,37,3,0],[18,2,3,0],[18,6,3,0,"React"],[18,11,3,0],[18,14,3,0,"_interopNamespace"],[18,31,3,0],[18,32,3,0,"_react"],[18,38,3,0],[19,2,4,0],[19,6,4,0,"_NavigationBuilderContextJs"],[19,33,4,0],[19,36,4,0,"require"],[19,43,4,0],[19,44,4,0,"_dependencyMap"],[19,58,4,0],[20,2,5,0],[20,6,5,0,"_NavigationStateContextJs"],[20,31,5,0],[20,34,5,0,"require"],[20,41,5,0],[20,42,5,0,"_dependencyMap"],[20,56,5,0],[21,2,6,7],[21,11,6,16,"useOptionsGetters"],[21,28,6,33,"useOptionsGetters"],[21,29,6,33,"_ref"],[21,33,6,33],[21,35,10,3],[22,4,10,3],[22,8,7,2,"key"],[22,11,7,5],[22,14,7,5,"_ref"],[22,18,7,5],[22,19,7,2,"key"],[22,22,7,5],[23,6,8,2,"options"],[23,13,8,9],[23,16,8,9,"_ref"],[23,20,8,9],[23,21,8,2,"options"],[23,28,8,9],[24,6,9,2,"navigation"],[24,16,9,12],[24,19,9,12,"_ref"],[24,23,9,12],[24,24,9,2,"navigation"],[24,34,9,12],[25,4,11,2],[25,8,11,8,"optionsRef"],[25,18,11,18],[25,21,11,21,"React"],[25,26,11,26],[25,27,11,27,"useRef"],[25,33,11,33],[25,34,11,34,"options"],[25,41,11,41],[25,42,11,42],[26,4,12,2],[26,8,12,8,"optionsGettersFromChildRef"],[26,34,12,34],[26,37,12,37,"React"],[26,42,12,42],[26,43,12,43,"useRef"],[26,49,12,49],[26,50,12,50],[26,51,12,51],[26,52,12,52],[26,53,12,53],[27,4,13,2],[27,8,13,2,"_React$useContext"],[27,25,13,2],[27,28,15,6,"React"],[27,33,15,11],[27,34,15,12,"useContext"],[27,44,15,22],[27,45,15,23,"NavigationBuilderContext"],[27,72,15,47],[27,73,15,47,"NavigationBuilderContext"],[27,97,15,47],[27,98,15,48],[28,6,14,4,"onOptionsChange"],[28,21,14,19],[28,24,14,19,"_React$useContext"],[28,41,14,19],[28,42,14,4,"onOptionsChange"],[28,57,14,19],[29,4,16,2],[29,8,16,2,"_React$useContext2"],[29,26,16,2],[29,29,18,6,"React"],[29,34,18,11],[29,35,18,12,"useContext"],[29,45,18,22],[29,46,18,23,"NavigationStateContext"],[29,71,18,45],[29,72,18,45,"NavigationStateContext"],[29,94,18,45],[29,95,18,46],[30,6,17,22,"parentAddOptionsGetter"],[30,28,17,44],[30,31,17,44,"_React$useContext2"],[30,49,17,44],[30,50,17,4,"addOptionsGetter"],[30,66,17,20],[31,4,19,2],[31,8,19,8,"optionsChangeListener"],[31,29,19,29],[31,32,19,32,"React"],[31,37,19,37],[31,38,19,38,"useCallback"],[31,49,19,49],[31,50,19,50],[31,56,19,56],[32,6,20,4],[32,10,20,10,"isFocused"],[32,19,20,19],[32,22,20,22,"navigation"],[32,32,20,32],[32,34,20,34,"isFocused"],[32,43,20,43],[32,44,20,44],[32,45,20,45],[32,49,20,49],[32,53,20,53],[33,6,21,4],[33,10,21,10,"hasChildren"],[33,21,21,21],[33,24,21,24,"Object"],[33,30,21,30],[33,31,21,31,"keys"],[33,35,21,35],[33,36,21,36,"optionsGettersFromChildRef"],[33,62,21,62],[33,63,21,63,"current"],[33,70,21,70],[33,71,21,71],[33,72,21,72,"length"],[33,78,21,78],[34,6,22,4],[34,10,22,8,"isFocused"],[34,19,22,17],[34,23,22,21],[34,24,22,22,"hasChildren"],[34,35,22,33],[34,37,22,35],[35,8,23,6,"onOptionsChange"],[35,23,23,21],[35,24,23,22,"optionsRef"],[35,34,23,32],[35,35,23,33,"current"],[35,42,23,40],[35,46,23,44],[35,47,23,45],[35,48,23,46],[35,49,23,47],[36,6,24,4],[37,4,25,2],[37,5,25,3],[37,7,25,5],[37,8,25,6,"navigation"],[37,18,25,16],[37,20,25,18,"onOptionsChange"],[37,35,25,33],[37,36,25,34],[37,37,25,35],[38,4,26,2,"React"],[38,9,26,7],[38,10,26,8,"useEffect"],[38,19,26,17],[38,20,26,18],[38,26,26,24],[39,6,27,4,"optionsRef"],[39,16,27,14],[39,17,27,15,"current"],[39,24,27,22],[39,27,27,25,"options"],[39,34,27,32],[40,6,28,4,"optionsChangeListener"],[40,27,28,25],[40,28,28,26],[40,29,28,27],[41,6,29,4],[41,13,29,11,"navigation"],[41,23,29,21],[41,25,29,23,"addListener"],[41,36,29,34],[41,37,29,35],[41,44,29,42],[41,46,29,44,"optionsChangeListener"],[41,67,29,65],[41,68,29,66],[42,4,30,2],[42,5,30,3],[42,7,30,5],[42,8,30,6,"navigation"],[42,18,30,16],[42,20,30,18,"options"],[42,27,30,25],[42,29,30,27,"optionsChangeListener"],[42,50,30,48],[42,51,30,49],[42,52,30,50],[43,4,31,2],[43,8,31,8,"getOptionsFromListener"],[43,30,31,30],[43,33,31,33,"React"],[43,38,31,38],[43,39,31,39,"useCallback"],[43,50,31,50],[43,51,31,51],[43,57,31,57],[44,6,32,4],[44,11,32,9],[44,15,32,15,"key"],[44,19,32,18],[44,23,32,22,"optionsGettersFromChildRef"],[44,49,32,48],[44,50,32,49,"current"],[44,57,32,56],[44,59,32,58],[45,8,33,6],[45,12,33,10,"key"],[45,16,33,13],[45,20,33,17,"optionsGettersFromChildRef"],[45,46,33,43],[45,47,33,44,"current"],[45,54,33,51],[45,56,33,53],[46,10,34,8],[46,14,34,14,"result"],[46,20,34,20],[46,23,34,23,"optionsGettersFromChildRef"],[46,49,34,49],[46,50,34,50,"current"],[46,57,34,57],[46,58,34,58,"key"],[46,62,34,61],[46,63,34,62],[46,66,34,65],[46,67,34,66],[48,10,36,8],[49,10,37,8],[49,14,37,12,"result"],[49,20,37,18],[49,25,37,23],[49,29,37,27],[49,31,37,29],[50,12,38,10],[50,19,38,17,"result"],[50,25,38,23],[51,10,39,8],[52,8,40,6],[53,6,41,4],[54,6,42,4],[54,13,42,11],[54,17,42,15],[55,4,43,2],[55,5,43,3],[55,7,43,5],[55,9,43,7],[55,10,43,8],[56,4,44,2],[56,8,44,8,"getCurrentOptions"],[56,25,44,25],[56,28,44,28,"React"],[56,33,44,33],[56,34,44,34,"useCallback"],[56,45,44,45],[56,46,44,46],[56,52,44,52],[57,6,45,4],[57,10,45,10,"isFocused"],[57,19,45,19],[57,22,45,22,"navigation"],[57,32,45,32],[57,34,45,34,"isFocused"],[57,43,45,43],[57,44,45,44],[57,45,45,45],[57,49,45,49],[57,53,45,53],[58,6,46,4],[58,10,46,8],[58,11,46,9,"isFocused"],[58,20,46,18],[58,22,46,20],[59,8,47,6],[59,15,47,13],[59,19,47,17],[60,6,48,4],[61,6,49,4],[61,10,49,10,"optionsFromListener"],[61,29,49,29],[61,32,49,32,"getOptionsFromListener"],[61,54,49,54],[61,55,49,55],[61,56,49,56],[62,6,50,4],[62,10,50,8,"optionsFromListener"],[62,29,50,27],[62,34,50,32],[62,38,50,36],[62,40,50,38],[63,8,51,6],[63,15,51,13,"optionsFromListener"],[63,34,51,32],[64,6,52,4],[65,6,53,4],[65,13,53,11,"optionsRef"],[65,23,53,21],[65,24,53,22,"current"],[65,31,53,29],[66,4,54,2],[66,5,54,3],[66,7,54,5],[66,8,54,6,"navigation"],[66,18,54,16],[66,20,54,18,"getOptionsFromListener"],[66,42,54,40],[66,43,54,41],[66,44,54,42],[67,4,55,2,"React"],[67,9,55,7],[67,10,55,8,"useEffect"],[67,19,55,17],[67,20,55,18],[67,26,55,24],[68,6,56,4],[68,13,56,11,"parentAddOptionsGetter"],[68,35,56,33],[68,38,56,36,"key"],[68,41,56,39],[68,43,56,41,"getCurrentOptions"],[68,60,56,58],[68,61,56,59],[69,4,57,2],[69,5,57,3],[69,7,57,5],[69,8,57,6,"getCurrentOptions"],[69,25,57,23],[69,27,57,25,"parentAddOptionsGetter"],[69,49,57,47],[69,51,57,49,"key"],[69,54,57,52],[69,55,57,53],[69,56,57,54],[70,4,58,2],[70,8,58,8,"addOptionsGetter"],[70,24,58,24],[70,27,58,27,"React"],[70,32,58,32],[70,33,58,33,"useCallback"],[70,44,58,44],[70,45,58,45],[70,46,58,46,"key"],[70,49,58,49],[70,51,58,51,"getter"],[70,57,58,57],[70,62,58,62],[71,6,59,4,"optionsGettersFromChildRef"],[71,32,59,30],[71,33,59,31,"current"],[71,40,59,38],[71,41,59,39,"key"],[71,44,59,42],[71,45,59,43],[71,48,59,46,"getter"],[71,54,59,52],[72,6,60,4,"optionsChangeListener"],[72,27,60,25],[72,28,60,26],[72,29,60,27],[73,6,61,4],[73,13,61,11],[73,19,61,17],[74,8,62,6],[75,8,63,6],[75,15,63,13,"optionsGettersFromChildRef"],[75,41,63,39],[75,42,63,40,"current"],[75,49,63,47],[75,50,63,48,"key"],[75,53,63,51],[75,54,63,52],[76,8,64,6,"optionsChangeListener"],[76,29,64,27],[76,30,64,28],[76,31,64,29],[77,6,65,4],[77,7,65,5],[78,4,66,2],[78,5,66,3],[78,7,66,5],[78,8,66,6,"optionsChangeListener"],[78,29,66,27],[78,30,66,28],[78,31,66,29],[79,4,67,2],[79,11,67,9],[80,6,68,4,"addOptionsGetter"],[80,22,68,20],[81,6,69,4,"getCurrentOptions"],[82,4,70,2],[82,5,70,3],[83,2,71,0],[84,0,71,1],[84,3]],"functionMap":{"names":["<global>","useOptionsGetters","optionsChangeListener","React.useEffect$argument_0","getOptionsFromListener","getCurrentOptions","addOptionsGetter","<anonymous>"],"mappings":"AAA;OCK;kDCa;GDM;kBEC;GFI;mDGC;GHY;8CIC;GJU;kBEC;GFE;6CKC;WCG;KDI;GLC;CDK"},"hasCjsExports":false},"type":"js/module"}]}