{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":15},"end":{"line":3,"column":31,"index":46}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"use-latest-callback","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":47},"end":{"line":4,"column":52,"index":99}}],"key":"2ER/r3Agt+5SFwaFR8HXg24Rpu4=","exportNames":["*"],"imports":1}},{"name":"use-sync-external-store/with-selector","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":5,"column":0,"index":100},"end":{"line":5,"column":89,"index":189}}],"key":"eWOvQ07XtQMBjXiY0qREKFi+uR8=","exportNames":["*"],"imports":1}},{"name":"./useClientLayoutEffect.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":6,"column":0,"index":190},"end":{"line":6,"column":67,"index":257}}],"key":"LhoNk5P88pw/w9+MH8FRVAlr+OQ=","exportNames":["*"],"imports":1}},{"name":"react/jsx-runtime","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":7,"column":0,"index":258},"end":{"line":7,"column":48,"index":306}}],"key":"rKAWVuQOSSDHxC6IWcmkeWszaWg=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopNamespace(e) {\n    if (e && e.__esModule) return e;\n    var n = {};\n    if (e) Object.keys(e).forEach(function (k) {\n      n[k] = e[k];\n    });\n    n.default = e;\n    return n;\n  }\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  exports.useNavigationState = useNavigationState;\n  exports.NavigationStateListenerProvider = NavigationStateListenerProvider;\n  var _react = require(_dependencyMap[0], \"react\");\n  var React = _interopNamespace(_react);\n  var _useLatestCallback = require(_dependencyMap[1], \"use-latest-callback\");\n  var useLatestCallback = _interopDefault(_useLatestCallback);\n  var _useSyncExternalStoreWithSelector = require(_dependencyMap[2], \"use-sync-external-store/with-selector\");\n  var _useClientLayoutEffectJs = require(_dependencyMap[3], \"./useClientLayoutEffect.js\");\n  var _reactJsxRuntime = require(_dependencyMap[4], \"react/jsx-runtime\");\n  /**\n   * Hook to get a value from the current navigation state using a selector.\n   *\n   * @param selector Selector function to get a value from the state.\n   */\n  function useNavigationState(selector) {\n    var stateListener = React.useContext(NavigationStateListenerContext);\n    if (stateListener == null) {\n      throw new Error(\"Couldn't get the navigation state. Is your component inside a navigator?\");\n    }\n    var value = (0, _useSyncExternalStoreWithSelector.useSyncExternalStoreWithSelector)(stateListener.subscribe,\n    // @ts-expect-error: this is unsafe, but needed to make the generic work\n    stateListener.getState, stateListener.getState, selector);\n    return value;\n  }\n  function NavigationStateListenerProvider(_ref) {\n    var state = _ref.state,\n      children = _ref.children;\n    var listeners = React.useRef([]);\n    var getState = (0, useLatestCallback.default)(() => state);\n    var subscribe = (0, useLatestCallback.default)(callback => {\n      listeners.current.push(callback);\n      return () => {\n        listeners.current = listeners.current.filter(cb => cb !== callback);\n      };\n    });\n    (0, _useClientLayoutEffectJs.useClientLayoutEffect)(() => {\n      listeners.current.forEach(callback => callback());\n    }, [state]);\n    var context = React.useMemo(() => ({\n      getState,\n      subscribe\n    }), [getState, subscribe]);\n    return /*#__PURE__*/(0, _reactJsxRuntime.jsx)(NavigationStateListenerContext.Provider, {\n      value: context,\n      children: children\n    });\n  }\n  var NavigationStateListenerContext = /*#__PURE__*/React.createContext(undefined);\n});","lineCount":69,"map":[[2,2,1,0],[2,14,1,12],[4,2,1,13,"Object"],[4,8,1,13],[4,9,1,13,"defineProperty"],[4,23,1,13],[4,24,1,13,"exports"],[4,31,1,13],[5,4,1,13,"value"],[5,9,1,13],[6,2,1,13],[7,2,1,13],[7,11,1,13,"_interopNamespace"],[7,29,1,13,"e"],[7,30,1,13],[8,4,1,13],[8,8,1,13,"e"],[8,9,1,13],[8,13,1,13,"e"],[8,14,1,13],[8,15,1,13,"__esModule"],[8,25,1,13],[8,34,1,13,"e"],[8,35,1,13],[9,4,1,13],[9,8,1,13,"n"],[9,9,1,13],[10,4,1,13],[10,8,1,13,"e"],[10,9,1,13],[10,11,1,13,"Object"],[10,17,1,13],[10,18,1,13,"keys"],[10,22,1,13],[10,23,1,13,"e"],[10,24,1,13],[10,26,1,13,"forEach"],[10,33,1,13],[10,44,1,13,"k"],[10,45,1,13],[11,6,1,13,"n"],[11,7,1,13],[11,8,1,13,"k"],[11,9,1,13],[11,13,1,13,"e"],[11,14,1,13],[11,15,1,13,"k"],[11,16,1,13],[12,4,1,13],[13,4,1,13,"n"],[13,5,1,13],[13,6,1,13,"default"],[13,13,1,13],[13,16,1,13,"e"],[13,17,1,13],[14,4,1,13],[14,11,1,13,"n"],[14,12,1,13],[15,2,1,13],[16,2,1,13],[16,11,1,13,"_interopDefault"],[16,27,1,13,"e"],[16,28,1,13],[17,4,1,13],[17,11,1,13,"e"],[17,12,1,13],[17,16,1,13,"e"],[17,17,1,13],[17,18,1,13,"__esModule"],[17,28,1,13],[17,31,1,13,"e"],[17,32,1,13],[18,6,1,13,"default"],[18,13,1,13],[18,15,1,13,"e"],[19,4,1,13],[20,2,1,13],[21,2,13,0,"exports"],[21,9,13,0],[21,10,13,0,"useNavigationState"],[21,28,13,0],[21,31,13,0,"useNavigationState"],[21,49,13,0],[22,2,23,0,"exports"],[22,9,23,0],[22,10,23,0,"NavigationStateListenerProvider"],[22,41,23,0],[22,44,23,0,"NavigationStateListenerProvider"],[22,75,23,0],[23,2,3,0],[23,6,3,0,"_react"],[23,12,3,0],[23,15,3,0,"require"],[23,22,3,0],[23,23,3,0,"_dependencyMap"],[23,37,3,0],[24,2,3,0],[24,6,3,0,"React"],[24,11,3,0],[24,14,3,0,"_interopNamespace"],[24,31,3,0],[24,32,3,0,"_react"],[24,38,3,0],[25,2,4,0],[25,6,4,0,"_useLatestCallback"],[25,24,4,0],[25,27,4,0,"require"],[25,34,4,0],[25,35,4,0,"_dependencyMap"],[25,49,4,0],[26,2,4,0],[26,6,4,0,"useLatestCallback"],[26,23,4,0],[26,26,4,0,"_interopDefault"],[26,41,4,0],[26,42,4,0,"_useLatestCallback"],[26,60,4,0],[27,2,5,0],[27,6,5,0,"_useSyncExternalStoreWithSelector"],[27,39,5,0],[27,42,5,0,"require"],[27,49,5,0],[27,50,5,0,"_dependencyMap"],[27,64,5,0],[28,2,6,0],[28,6,6,0,"_useClientLayoutEffectJs"],[28,30,6,0],[28,33,6,0,"require"],[28,40,6,0],[28,41,6,0,"_dependencyMap"],[28,55,6,0],[29,2,7,0],[29,6,7,0,"_reactJsxRuntime"],[29,22,7,0],[29,25,7,0,"require"],[29,32,7,0],[29,33,7,0,"_dependencyMap"],[29,47,7,0],[30,2,8,0],[31,0,9,0],[32,0,10,0],[33,0,11,0],[34,0,12,0],[35,2,13,7],[35,11,13,16,"useNavigationState"],[35,29,13,34,"useNavigationState"],[35,30,13,35,"selector"],[35,38,13,43],[35,40,13,45],[36,4,14,2],[36,8,14,8,"stateListener"],[36,21,14,21],[36,24,14,24,"React"],[36,29,14,29],[36,30,14,30,"useContext"],[36,40,14,40],[36,41,14,41,"NavigationStateListenerContext"],[36,71,14,71],[36,72,14,72],[37,4,15,2],[37,8,15,6,"stateListener"],[37,21,15,19],[37,25,15,23],[37,29,15,27],[37,31,15,29],[38,6,16,4],[38,12,16,10],[38,16,16,14,"Error"],[38,21,16,19],[38,22,16,20],[38,96,16,94],[38,97,16,95],[39,4,17,2],[40,4,18,2],[40,8,18,8,"value"],[40,13,18,13],[40,16,18,16],[40,20,18,16,"useSyncExternalStoreWithSelector"],[40,53,18,48],[40,54,18,48,"useSyncExternalStoreWithSelector"],[40,86,18,48],[40,88,18,49,"stateListener"],[40,101,18,62],[40,102,18,63,"subscribe"],[40,111,18,72],[41,4,19,2],[42,4,20,2,"stateListener"],[42,17,20,15],[42,18,20,16,"getState"],[42,26,20,24],[42,28,20,26,"stateListener"],[42,41,20,39],[42,42,20,40,"getState"],[42,50,20,48],[42,52,20,50,"selector"],[42,60,20,58],[42,61,20,59],[43,4,21,2],[43,11,21,9,"value"],[43,16,21,14],[44,2,22,0],[45,2,23,7],[45,11,23,16,"NavigationStateListenerProvider"],[45,42,23,47,"NavigationStateListenerProvider"],[45,43,23,47,"_ref"],[45,47,23,47],[45,49,26,3],[46,4,26,3],[46,8,24,2,"state"],[46,13,24,7],[46,16,24,7,"_ref"],[46,20,24,7],[46,21,24,2,"state"],[46,26,24,7],[47,6,25,2,"children"],[47,14,25,10],[47,17,25,10,"_ref"],[47,21,25,10],[47,22,25,2,"children"],[47,30,25,10],[48,4,27,2],[48,8,27,8,"listeners"],[48,17,27,17],[48,20,27,20,"React"],[48,25,27,25],[48,26,27,26,"useRef"],[48,32,27,32],[48,33,27,33],[48,35,27,35],[48,36,27,36],[49,4,28,2],[49,8,28,8,"getState"],[49,16,28,16],[49,19,28,19],[49,23,28,19,"useLatestCallback"],[49,40,28,36],[49,41,28,36,"default"],[49,48,28,36],[49,50,28,37],[49,56,28,43,"state"],[49,61,28,48],[49,62,28,49],[50,4,29,2],[50,8,29,8,"subscribe"],[50,17,29,17],[50,20,29,20],[50,24,29,20,"useLatestCallback"],[50,41,29,37],[50,42,29,37,"default"],[50,49,29,37],[50,51,29,38,"callback"],[50,59,29,46],[50,63,29,50],[51,6,30,4,"listeners"],[51,15,30,13],[51,16,30,14,"current"],[51,23,30,21],[51,24,30,22,"push"],[51,28,30,26],[51,29,30,27,"callback"],[51,37,30,35],[51,38,30,36],[52,6,31,4],[52,13,31,11],[52,19,31,17],[53,8,32,6,"listeners"],[53,17,32,15],[53,18,32,16,"current"],[53,25,32,23],[53,28,32,26,"listeners"],[53,37,32,35],[53,38,32,36,"current"],[53,45,32,43],[53,46,32,44,"filter"],[53,52,32,50],[53,53,32,51,"cb"],[53,55,32,53],[53,59,32,57,"cb"],[53,61,32,59],[53,66,32,64,"callback"],[53,74,32,72],[53,75,32,73],[54,6,33,4],[54,7,33,5],[55,4,34,2],[55,5,34,3],[55,6,34,4],[56,4,35,2],[56,8,35,2,"useClientLayoutEffect"],[56,32,35,23],[56,33,35,23,"useClientLayoutEffect"],[56,54,35,23],[56,56,35,24],[56,62,35,30],[57,6,36,4,"listeners"],[57,15,36,13],[57,16,36,14,"current"],[57,23,36,21],[57,24,36,22,"forEach"],[57,31,36,29],[57,32,36,30,"callback"],[57,40,36,38],[57,44,36,42,"callback"],[57,52,36,50],[57,53,36,51],[57,54,36,52],[57,55,36,53],[58,4,37,2],[58,5,37,3],[58,7,37,5],[58,8,37,6,"state"],[58,13,37,11],[58,14,37,12],[58,15,37,13],[59,4,38,2],[59,8,38,8,"context"],[59,15,38,15],[59,18,38,18,"React"],[59,23,38,23],[59,24,38,24,"useMemo"],[59,31,38,31],[59,32,38,32],[59,39,38,39],[60,6,39,4,"getState"],[60,14,39,12],[61,6,40,4,"subscribe"],[62,4,41,2],[62,5,41,3],[62,6,41,4],[62,8,41,6],[62,9,41,7,"getState"],[62,17,41,15],[62,19,41,17,"subscribe"],[62,28,41,26],[62,29,41,27],[62,30,41,28],[63,4,42,2],[63,11,42,9],[63,24,42,22],[63,28,42,22,"_jsx"],[63,44,42,26],[63,45,42,26,"jsx"],[63,48,42,26],[63,50,42,27,"NavigationStateListenerContext"],[63,80,42,57],[63,81,42,58,"Provider"],[63,89,42,66],[63,91,42,68],[64,6,43,4,"value"],[64,11,43,9],[64,13,43,11,"context"],[64,20,43,18],[65,6,44,4,"children"],[65,14,44,12],[65,16,44,14,"children"],[66,4,45,2],[66,5,45,3],[66,6,45,4],[67,2,46,0],[68,2,47,0],[68,6,47,6,"NavigationStateListenerContext"],[68,36,47,36],[68,39,47,39],[68,52,47,52,"React"],[68,57,47,57],[68,58,47,58,"createContext"],[68,71,47,71],[68,72,47,72,"undefined"],[68,81,47,81],[68,82,47,82],[69,0,47,83],[69,3]],"functionMap":{"names":["<global>","useNavigationState","NavigationStateListenerProvider","useLatestCallback$argument_0","<anonymous>","listeners.current.filter$argument_0","useClientLayoutEffect$argument_0","listeners.current.forEach$argument_0","React.useMemo$argument_0"],"mappings":"AAA;OCY;CDS;OEC;qCCK,WD;sCCC;WCE;mDCC,qBD;KDC;GDC;wBIC;8BCC,sBD;GJC;gCMC;ING;CFK"},"hasCjsExports":false},"type":"js/module"}]}