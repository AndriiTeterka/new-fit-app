{"dependencies":[{"name":"../../src/private/featureflags/ReactNativeFeatureFlags","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":14,"column":0},"end":{"line":14,"column":98}}],"key":"fdTx5edELD8GYD7vaakWfKKte1Y=","exportNames":["*"],"imports":1}},{"name":"../vendor/emitter/EventEmitter","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":15,"column":0},"end":{"line":15,"column":58}}],"key":"FSJ8dBSGMPKDnoV5nqp600Oqgzc=","exportNames":["*"],"imports":1}},{"name":"../BatchedBridge/BatchedBridge","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":17,"column":22},"end":{"line":17,"column":63}}],"key":"RVO988+Zv/6E/rt0hBQ7t8lVl4o=","exportNames":["*"],"imports":1}},{"name":"./TaskQueue","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":18,"column":18},"end":{"line":18,"column":40}}],"key":"JdVwdRfYYIkBEefq5ZvEtZ/aHHY=","exportNames":["*"],"imports":1}},{"name":"invariant","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":19,"column":18},"end":{"line":19,"column":38}}],"key":"oQpL0Es3H146KnQH9ygFeHrzVP4=","exportNames":["*"],"imports":1}},{"name":"./InteractionManagerStub","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":233,"column":6},"end":{"line":233,"column":41}}],"key":"6Axl/FjQxNlPydjZVdzFgWLPoUg=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopNamespace(e) {\n    if (e && e.__esModule) return e;\n    var n = {};\n    if (e) Object.keys(e).forEach(function (k) {\n      n[k] = e[k];\n    });\n    n.default = e;\n    return n;\n  }\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return _default;\n    }\n  });\n  var _srcPrivateFeatureflagsReactNativeFeatureFlags = require(_dependencyMap[0], \"../../src/private/featureflags/ReactNativeFeatureFlags\");\n  var ReactNativeFeatureFlags = _interopNamespace(_srcPrivateFeatureflagsReactNativeFeatureFlags);\n  var _vendorEmitterEventEmitter = require(_dependencyMap[1], \"../vendor/emitter/EventEmitter\");\n  var EventEmitter = _interopDefault(_vendorEmitterEventEmitter);\n  var BatchedBridge = require(_dependencyMap[2], \"../BatchedBridge/BatchedBridge\").default;\n  var TaskQueue = require(_dependencyMap[3], \"./TaskQueue\").default;\n  var invariant = require(_dependencyMap[4], \"invariant\");\n  var _emitter = new EventEmitter.default();\n  var DEBUG_DELAY = 0;\n  var DEBUG = false;\n  var InteractionManagerImpl = {\n    Events: {\n      interactionStart: 'interactionStart',\n      interactionComplete: 'interactionComplete'\n    },\n    runAfterInteractions(task) {\n      var tasks = [];\n      var promise = new Promise(resolve => {\n        _scheduleUpdate();\n        if (task) {\n          tasks.push(task);\n        }\n        tasks.push({\n          run: resolve,\n          name: 'resolve ' + (task && task.name || '?')\n        });\n        _taskQueue.enqueueTasks(tasks);\n      });\n      return {\n        then: promise.then.bind(promise),\n        cancel: function () {\n          _taskQueue.cancelTasks(tasks);\n        }\n      };\n    },\n    createInteractionHandle() {\n      DEBUG && console.log('InteractionManager: create interaction handle');\n      _scheduleUpdate();\n      var handle = ++_inc;\n      _addInteractionSet.add(handle);\n      return handle;\n    },\n    clearInteractionHandle(handle) {\n      DEBUG && console.log('InteractionManager: clear interaction handle');\n      invariant(!!handle, 'InteractionManager: Must provide a handle to clear.');\n      _scheduleUpdate();\n      _addInteractionSet.delete(handle);\n      _deleteInteractionSet.add(handle);\n    },\n    addListener: _emitter.addListener.bind(_emitter),\n    setDeadline(deadline) {\n      _deadline = deadline;\n    }\n  };\n  var _interactionSet = new Set();\n  var _addInteractionSet = new Set();\n  var _deleteInteractionSet = new Set();\n  var _taskQueue = new TaskQueue({\n    onMoreTasks: _scheduleUpdate\n  });\n  var _nextUpdateHandle = 0;\n  var _inc = 0;\n  var _deadline = -1;\n  function _scheduleUpdate() {\n    if (!_nextUpdateHandle) {\n      if (_deadline > 0) {\n        _nextUpdateHandle = setTimeout(_processUpdate, 0 + DEBUG_DELAY);\n      } else {\n        _nextUpdateHandle = setImmediate(_processUpdate);\n      }\n    }\n  }\n  function _processUpdate() {\n    _nextUpdateHandle = 0;\n    var interactionCount = _interactionSet.size;\n    _addInteractionSet.forEach(handle => _interactionSet.add(handle));\n    _deleteInteractionSet.forEach(handle => _interactionSet.delete(handle));\n    var nextInteractionCount = _interactionSet.size;\n    if (interactionCount !== 0 && nextInteractionCount === 0) {\n      _emitter.emit(InteractionManager.Events.interactionComplete);\n    } else if (interactionCount === 0 && nextInteractionCount !== 0) {\n      _emitter.emit(InteractionManager.Events.interactionStart);\n    }\n    if (nextInteractionCount === 0) {\n      while (_taskQueue.hasTasksToProcess()) {\n        _taskQueue.processNext();\n        if (_deadline > 0 && BatchedBridge.getEventLoopRunningTime() >= _deadline) {\n          _scheduleUpdate();\n          break;\n        }\n      }\n    }\n    _addInteractionSet.clear();\n    _deleteInteractionSet.clear();\n  }\n  var InteractionManager = ReactNativeFeatureFlags.disableInteractionManager() ? require(_dependencyMap[5], \"./InteractionManagerStub\").default : InteractionManagerImpl;\n  var _default = InteractionManager;\n});","lineCount":124,"map":[[21,2,237,0,"Object"],[21,8,237,0],[21,9,237,0,"defineProperty"],[21,23,237,0],[21,24,237,0,"exports"],[21,31,237,0],[22,4,237,0,"enumerable"],[22,14,237,0],[23,4,237,0,"get"],[23,7,237,0],[23,18,237,0,"get"],[23,19,237,0],[24,6,237,0],[24,13,237,0,"_default"],[24,21,237,0],[25,4,237,0],[26,2,237,0],[27,2,14,0],[27,6,14,0,"_srcPrivateFeatureflagsReactNativeFeatureFlags"],[27,52,14,0],[27,55,14,0,"require"],[27,62,14,0],[27,63,14,0,"_dependencyMap"],[27,77,14,0],[28,2,14,0],[28,6,14,0,"ReactNativeFeatureFlags"],[28,29,14,0],[28,32,14,0,"_interopNamespace"],[28,49,14,0],[28,50,14,0,"_srcPrivateFeatureflagsReactNativeFeatureFlags"],[28,96,14,0],[29,2,15,0],[29,6,15,0,"_vendorEmitterEventEmitter"],[29,32,15,0],[29,35,15,0,"require"],[29,42,15,0],[29,43,15,0,"_dependencyMap"],[29,57,15,0],[30,2,15,0],[30,6,15,0,"EventEmitter"],[30,18,15,0],[30,21,15,0,"_interopDefault"],[30,36,15,0],[30,37,15,0,"_vendorEmitterEventEmitter"],[30,63,15,0],[31,2,17,0],[31,6,17,6,"BatchedBridge"],[31,19,17,19],[31,22,17,22,"require"],[31,29,17,29],[31,30,17,29,"_dependencyMap"],[31,44,17,29],[31,81,17,62],[31,82,17,63],[31,83,17,64,"default"],[31,90,17,71],[32,2,18,0],[32,6,18,6,"TaskQueue"],[32,15,18,15],[32,18,18,18,"require"],[32,25,18,25],[32,26,18,25,"_dependencyMap"],[32,40,18,25],[32,58,18,39],[32,59,18,40],[32,60,18,41,"default"],[32,67,18,48],[33,2,19,0],[33,6,19,6,"invariant"],[33,15,19,15],[33,18,19,18,"require"],[33,25,19,25],[33,26,19,25,"_dependencyMap"],[33,40,19,25],[33,56,19,37],[33,57,19,38],[34,2,25,0],[34,6,25,6,"_emitter"],[34,14,25,14],[34,17,25,17],[34,21,25,21,"EventEmitter"],[34,33,25,33],[34,34,25,33,"default"],[34,41,25,33],[34,42,28,3],[34,43,28,4],[35,2,30,0],[35,6,30,6,"DEBUG_DELAY"],[35,17,30,20],[35,20,30,23],[35,21,30,24],[36,2,31,0],[36,6,31,6,"DEBUG"],[36,11,31,18],[36,14,31,21],[36,19,31,26],[37,2,33,0],[37,6,33,6,"InteractionManagerImpl"],[37,28,33,28],[37,31,33,31],[38,4,34,2,"Events"],[38,10,34,8],[38,12,34,10],[39,6,35,4,"interactionStart"],[39,22,35,20],[39,24,35,22],[39,42,35,40],[40,6,36,4,"interactionComplete"],[40,25,36,23],[40,27,36,25],[41,4,37,2],[41,5,37,3],[42,4,43,2,"runAfterInteractions"],[42,24,43,22,"runAfterInteractions"],[42,25,43,23,"task"],[42,29,43,34],[42,31,50,4],[43,6,51,4],[43,10,51,10,"tasks"],[43,15,51,28],[43,18,51,31],[43,20,51,33],[44,6,52,4],[44,10,52,10,"promise"],[44,17,52,17],[44,20,52,20],[44,24,52,24,"Promise"],[44,31,52,31],[44,32,52,33,"resolve"],[44,39,52,52],[44,43,52,57],[45,8,53,6,"_scheduleUpdate"],[45,23,53,21],[45,24,53,22],[45,25,53,23],[46,8,54,6],[46,12,54,10,"task"],[46,16,54,14],[46,18,54,16],[47,10,55,8,"tasks"],[47,15,55,13],[47,16,55,14,"push"],[47,20,55,18],[47,21,55,19,"task"],[47,25,55,23],[47,26,55,24],[48,8,56,6],[49,8,57,6,"tasks"],[49,13,57,11],[49,14,57,12,"push"],[49,18,57,16],[49,19,57,17],[50,10,58,8,"run"],[50,13,58,11],[50,15,58,13,"resolve"],[50,22,58,20],[51,10,59,8,"name"],[51,14,59,12],[51,16,59,14],[51,26,59,24],[51,30,59,29,"task"],[51,34,59,33],[51,38,59,37,"task"],[51,42,59,41],[51,43,59,42,"name"],[51,47,59,46],[51,51,59,51],[51,54,59,54],[52,8,60,6],[52,9,60,7],[52,10,60,8],[53,8,61,6,"_taskQueue"],[53,18,61,16],[53,19,61,17,"enqueueTasks"],[53,31,61,29],[53,32,61,30,"tasks"],[53,37,61,35],[53,38,61,36],[54,6,62,4],[54,7,62,5],[54,8,62,6],[55,6,63,4],[55,13,63,11],[56,8,65,6,"then"],[56,12,65,10],[56,14,65,12,"promise"],[56,21,65,19],[56,22,65,20,"then"],[56,26,65,24],[56,27,65,25,"bind"],[56,31,65,29],[56,32,65,30,"promise"],[56,39,65,37],[56,40,65,38],[57,8,66,6,"cancel"],[57,14,66,12],[57,16,66,14],[57,25,66,14,"cancel"],[57,26,66,14],[57,28,66,26],[58,10,67,8,"_taskQueue"],[58,20,67,18],[58,21,67,19,"cancelTasks"],[58,32,67,30],[58,33,67,31,"tasks"],[58,38,67,36],[58,39,67,37],[59,8,68,6],[60,6,69,4],[60,7,69,5],[61,4,70,2],[61,5,70,3],[62,4,75,2,"createInteractionHandle"],[62,27,75,25,"createInteractionHandle"],[62,28,75,25],[62,30,75,36],[63,6,76,4,"DEBUG"],[63,11,76,9],[63,15,76,13,"console"],[63,22,76,20],[63,23,76,21,"log"],[63,26,76,24],[63,27,76,25],[63,74,76,72],[63,75,76,73],[64,6,77,4,"_scheduleUpdate"],[64,21,77,19],[64,22,77,20],[64,23,77,21],[65,6,78,4],[65,10,78,10,"handle"],[65,16,78,16],[65,19,78,19],[65,21,78,21,"_inc"],[65,25,78,25],[66,6,79,4,"_addInteractionSet"],[66,24,79,22],[66,25,79,23,"add"],[66,28,79,26],[66,29,79,27,"handle"],[66,35,79,33],[66,36,79,34],[67,6,80,4],[67,13,80,11,"handle"],[67,19,80,17],[68,4,81,2],[68,5,81,3],[69,4,86,2,"clearInteractionHandle"],[69,26,86,24,"clearInteractionHandle"],[69,27,86,25,"handle"],[69,33,86,39],[69,35,86,41],[70,6,87,4,"DEBUG"],[70,11,87,9],[70,15,87,13,"console"],[70,22,87,20],[70,23,87,21,"log"],[70,26,87,24],[70,27,87,25],[70,73,87,71],[70,74,87,72],[71,6,88,4,"invariant"],[71,15,88,13],[71,16,88,14],[71,17,88,15],[71,18,88,16,"handle"],[71,24,88,22],[71,26,88,24],[71,79,88,77],[71,80,88,78],[72,6,89,4,"_scheduleUpdate"],[72,21,89,19],[72,22,89,20],[72,23,89,21],[73,6,90,4,"_addInteractionSet"],[73,24,90,22],[73,25,90,23,"delete"],[73,31,90,29],[73,32,90,30,"handle"],[73,38,90,36],[73,39,90,37],[74,6,91,4,"_deleteInteractionSet"],[74,27,91,25],[74,28,91,26,"add"],[74,31,91,29],[74,32,91,30,"handle"],[74,38,91,36],[74,39,91,37],[75,4,92,2],[75,5,92,3],[76,4,96,2,"addListener"],[76,15,96,13],[76,17,96,15,"_emitter"],[76,25,96,23],[76,26,96,24,"addListener"],[76,37,96,35],[76,38,96,36,"bind"],[76,42,96,40],[76,43,96,41,"_emitter"],[76,51,96,49],[76,52,101,24],[77,4,108,2,"setDeadline"],[77,15,108,13,"setDeadline"],[77,16,108,14,"deadline"],[77,24,108,30],[77,26,108,32],[78,6,109,4,"_deadline"],[78,15,109,13],[78,18,109,16,"deadline"],[78,26,109,24],[79,4,110,2],[80,2,111,0],[80,3,111,1],[81,2,113,0],[81,6,113,6,"_interactionSet"],[81,21,113,21],[81,24,113,24],[81,28,113,28,"Set"],[81,31,113,31],[81,32,113,49],[81,33,113,50],[82,2,114,0],[82,6,114,6,"_addInteractionSet"],[82,24,114,24],[82,27,114,27],[82,31,114,31,"Set"],[82,34,114,34],[82,35,114,52],[82,36,114,53],[83,2,115,0],[83,6,115,6,"_deleteInteractionSet"],[83,27,115,27],[83,30,115,30],[83,34,115,34,"Set"],[83,37,115,37],[83,38,115,46],[83,39,115,47],[84,2,116,0],[84,6,116,6,"_taskQueue"],[84,16,116,16],[84,19,116,19],[84,23,116,23,"TaskQueue"],[84,32,116,32],[84,33,116,33],[85,4,116,34,"onMoreTasks"],[85,15,116,45],[85,17,116,47,"_scheduleUpdate"],[86,2,116,62],[86,3,116,63],[86,4,116,64],[87,2,117,0],[87,6,117,4,"_nextUpdateHandle"],[87,23,117,45],[87,26,117,48],[87,27,117,49],[88,2,118,0],[88,6,118,4,"_inc"],[88,10,118,8],[88,13,118,11],[88,14,118,12],[89,2,119,0],[89,6,119,4,"_deadline"],[89,15,119,13],[89,18,119,16],[89,19,119,17],[89,20,119,18],[90,2,124,0],[90,11,124,9,"_scheduleUpdate"],[90,26,124,24,"_scheduleUpdate"],[90,27,124,24],[90,29,124,27],[91,4,125,2],[91,8,125,6],[91,9,125,7,"_nextUpdateHandle"],[91,26,125,24],[91,28,125,26],[92,6,126,4],[92,10,126,8,"_deadline"],[92,19,126,17],[92,22,126,20],[92,23,126,21],[92,25,126,23],[93,8,127,6,"_nextUpdateHandle"],[93,25,127,23],[93,28,127,26,"setTimeout"],[93,38,127,36],[93,39,127,37,"_processUpdate"],[93,53,127,51],[93,55,127,53],[93,56,127,54],[93,59,127,57,"DEBUG_DELAY"],[93,70,127,68],[93,71,127,69],[94,6,128,4],[94,7,128,5],[94,13,128,11],[95,8,129,6,"_nextUpdateHandle"],[95,25,129,23],[95,28,129,26,"setImmediate"],[95,40,129,38],[95,41,129,39,"_processUpdate"],[95,55,129,53],[95,56,129,54],[96,6,130,4],[97,4,131,2],[98,2,132,0],[99,2,137,0],[99,11,137,9,"_processUpdate"],[99,25,137,23,"_processUpdate"],[99,26,137,23],[99,28,137,26],[100,4,138,2,"_nextUpdateHandle"],[100,21,138,19],[100,24,138,22],[100,25,138,23],[101,4,140,2],[101,8,140,8,"interactionCount"],[101,24,140,24],[101,27,140,27,"_interactionSet"],[101,42,140,42],[101,43,140,43,"size"],[101,47,140,47],[102,4,141,2,"_addInteractionSet"],[102,22,141,20],[102,23,141,21,"forEach"],[102,30,141,28],[102,31,141,29,"handle"],[102,37,141,35],[102,41,141,39,"_interactionSet"],[102,56,141,54],[102,57,141,55,"add"],[102,60,141,58],[102,61,141,59,"handle"],[102,67,141,65],[102,68,141,66],[102,69,141,67],[103,4,142,2,"_deleteInteractionSet"],[103,25,142,23],[103,26,142,24,"forEach"],[103,33,142,31],[103,34,142,32,"handle"],[103,40,142,38],[103,44,142,42,"_interactionSet"],[103,59,142,57],[103,60,142,58,"delete"],[103,66,142,64],[103,67,142,65,"handle"],[103,73,142,71],[103,74,142,72],[103,75,142,73],[104,4,143,2],[104,8,143,8,"nextInteractionCount"],[104,28,143,28],[104,31,143,31,"_interactionSet"],[104,46,143,46],[104,47,143,47,"size"],[104,51,143,51],[105,4,145,2],[105,8,145,6,"interactionCount"],[105,24,145,22],[105,29,145,27],[105,30,145,28],[105,34,145,32,"nextInteractionCount"],[105,54,145,52],[105,59,145,57],[105,60,145,58],[105,62,145,60],[106,6,151,4,"_emitter"],[106,14,151,12],[106,15,151,13,"emit"],[106,19,151,17],[106,20,151,18,"InteractionManager"],[106,38,151,36],[106,39,151,37,"Events"],[106,45,151,43],[106,46,151,44,"interactionComplete"],[106,65,151,63],[106,66,151,64],[107,4,152,2],[107,5,152,3],[107,11,152,9],[107,15,152,13,"interactionCount"],[107,31,152,29],[107,36,152,34],[107,37,152,35],[107,41,152,39,"nextInteractionCount"],[107,61,152,59],[107,66,152,64],[107,67,152,65],[107,69,152,67],[108,6,158,4,"_emitter"],[108,14,158,12],[108,15,158,13,"emit"],[108,19,158,17],[108,20,158,18,"InteractionManager"],[108,38,158,36],[108,39,158,37,"Events"],[108,45,158,43],[108,46,158,44,"interactionStart"],[108,62,158,60],[108,63,158,61],[109,4,159,2],[110,4,162,2],[110,8,162,6,"nextInteractionCount"],[110,28,162,26],[110,33,162,31],[110,34,162,32],[110,36,162,34],[111,6,163,4],[111,13,163,11,"_taskQueue"],[111,23,163,21],[111,24,163,22,"hasTasksToProcess"],[111,41,163,39],[111,42,163,40],[111,43,163,41],[111,45,163,43],[112,8,164,6,"_taskQueue"],[112,18,164,16],[112,19,164,17,"processNext"],[112,30,164,28],[112,31,164,29],[112,32,164,30],[113,8,165,6],[113,12,166,8,"_deadline"],[113,21,166,17],[113,24,166,20],[113,25,166,21],[113,29,167,8,"BatchedBridge"],[113,42,167,21],[113,43,167,22,"getEventLoopRunningTime"],[113,66,167,45],[113,67,167,46],[113,68,167,47],[113,72,167,51,"_deadline"],[113,81,167,60],[113,83,168,8],[114,10,170,8,"_scheduleUpdate"],[114,25,170,23],[114,26,170,24],[114,27,170,25],[115,10,171,8],[116,8,172,6],[117,6,173,4],[118,4,174,2],[119,4,175,2,"_addInteractionSet"],[119,22,175,20],[119,23,175,21,"clear"],[119,28,175,26],[119,29,175,27],[119,30,175,28],[120,4,176,2,"_deleteInteractionSet"],[120,25,176,23],[120,26,176,24,"clear"],[120,31,176,29],[120,32,176,30],[120,33,176,31],[121,2,177,0],[122,2,230,0],[122,6,230,6,"InteractionManager"],[122,24,230,24],[122,27,231,2,"ReactNativeFeatureFlags"],[122,50,231,25],[122,51,231,26,"disableInteractionManager"],[122,76,231,51],[122,77,231,52],[122,78,231,53],[122,81,233,6,"require"],[122,88,233,13],[122,89,233,13,"_dependencyMap"],[122,103,233,13],[122,134,233,40],[122,135,233,41],[122,136,233,42,"default"],[122,143,233,49],[122,146,234,6,"InteractionManagerImpl"],[122,168,235,34],[123,2,237,0],[123,6,237,0,"_default"],[123,14,237,0],[123,17,237,15,"InteractionManager"],[123,35,237,33],[124,0,237,34],[124,3]],"functionMap":{"names":["<global>","InteractionManagerImpl.runAfterInteractions","Promise$argument_0","cancel","InteractionManagerImpl.createInteractionHandle","InteractionManagerImpl.clearInteractionHandle","InteractionManagerImpl.setDeadline","_scheduleUpdate","_processUpdate","_addInteractionSet.forEach$argument_0","_deleteInteractionSet.forEach$argument_0"],"mappings":"AAA;EC0C;gCCS;KDU;cEI;OFE;GDE;EIK;GJM;EKK;GLM;EMgB;GNE;AOc;CPQ;AQK;6BCI,qCD;gCEC,wCF;CRmC"},"hasCjsExports":false},"type":"js/module"}]}